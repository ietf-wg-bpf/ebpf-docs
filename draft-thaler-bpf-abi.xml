<?xml version="1.0" encoding="UTF-8"?>
  <?xml-stylesheet type="text/xsl" href="rfc2629.xslt"?>
  <!-- generated by https://github.com/dthaler/rst2rfcxml version 0.1 -->

<!DOCTYPE rfc [
]>

<?rfc rfcedstyle="yes"?>
<?rfc toc="yes"?>
<?rfc tocindent="yes"?>
<?rfc sortrefs="yes"?>
<?rfc symrefs="yes"?>
<?rfc strict="yes"?>
<?rfc comments="yes"?>
<?rfc inline="yes"?>
<?rfc text-list-symbols="-o*+"?>
<?rfc docmapping="yes"?>

<rfc ipr="trust200902" docName="draft-thaler-bpf-abi-00" category="std" submissionType="IETF">
 <front>
  <title abbrev="eBPF ABI">
BPF ABI Recommended Conventions and Guidelines v1.0
  </title>
  <author initials="D." surname="Thaler" fullname="Dave Thaler" role="editor">
    <organization>Microsoft</organization>
   <address>
    <postal>
    <city>Redmond</city>
    <code>98052</code>
    <country>USA</country>
    <region>WA</region>
    </postal>
    <email>dthaler@microsoft.com</email>
   </address>
  </author>
  <abstract>
   <t>
    This is version 1.0 of an informational document containing recommended
    conventions and guidelines for producing portable BPF program binaries.
   </t>
  </abstract>
 </front>
 <middle>
  <section anchor="registers-and-calling-convention" title="Registers and calling convention">
   <t>
    BPF has 10 general purpose registers and a read-only frame pointer register,
    all of which are 64-bits wide.
   </t>
   <t>
    The BPF calling convention is defined as:
   </t>
   <ul>
    <li>
     R0: return value from function calls, and exit value for BPF programs
    </li>
    <li>
     R1 - R5: arguments for function calls
    </li>
    <li>
     R6 - R9: callee saved registers that function calls will preserve
    </li>
    <li>
     R10: read-only frame pointer to access stack
    </li>
   </ul>
   <t>
    R0 - R5 are scratch registers and BPF programs needs to spill/fill them if
    necessary across calls.
   </t>
  </section>
  <section anchor="iana-considerations" title="IANA Considerations">
   <t>
    This document has no actions for IANA.
   </t>
  </section>
  <section anchor="acknowledgements" title="Acknowledgements">
   <t>
    This draft was generated from abi.rst in the Linux
    kernel repository, to which other individuals have authored contributions
    over time, including Alexei Starovoitov, Christoph Hellwig, and David Vernet.
   </t>
  </section>
 </middle>
 <back>
 </back>
</rfc>
